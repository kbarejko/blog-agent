# Workflow Configuration
# Defines the 18-step article generation process
#
# Per-Step AI Provider Configuration:
# Each step can optionally specify its own AI provider or model:
#   provider: "gemini"          # Use specific provider (gemini, claude, openai-gpt4o, etc.)
#   model: "gemini-2.5-flash"   # Auto-detect provider from model name
#
# If not specified, uses the default provider passed via CLI (--provider) or article config.
#
# Example use cases:
#   - outline: gemini-2.5-flash (fast and cheap for structure)
#   - write_sections: claude-sonnet-4 (best quality for content)
#   - humanize: gpt-4o (excellent at natural language refinement)
#   - faq: gemini-2.5-flash (good for Q&A generation)

steps:
  - name: init
    module: blog_agent.core.workflow.steps.step_01_init
    description: "Initialize article structure"
    enabled: true
    provider:  openai-gpt4o-mini
    
  - name: outline
    module: blog_agent.core.workflow.steps.step_02_outline
    description: "Generate article outline"
    enabled: true
  
  - name: summary
    module: blog_agent.core.workflow.steps.step_03_summary
    description: "Generate article summary (Co znajdziesz w artykule?)"
    enabled: true

  - name: write_sections
    module: blog_agent.core.workflow.steps.step_04_write_sections
    description: "Write all article sections with AI review"
    enabled: true
    provider: claude  # Optional: use Claude for high-quality content

  - name: create_draft
    module: blog_agent.core.workflow.steps.step_05_create_draft
    description: "Create draft by combining summary + sections"
    enabled: true

  - name: seo_review
    module: blog_agent.core.workflow.steps.step_06_seo_review
    description: "SEO review and heading fixes"
    enabled: true
    provider: openai-gpt4o

  - name: humanize
    module: blog_agent.core.workflow.steps.step_07_humanize
    description: "Humanize content (natural language)"
    enabled: true
    provider: openai-gpt4o  # Optional: use GPT-4o for humanization

  - name: multimedia
    module: blog_agent.core.workflow.steps.step_08_multimedia
    description: "Generate multimedia suggestions"
    enabled: false

  - name: business_metadata
    module: blog_agent.core.workflow.steps.step_09_business_metadata
    description: "Generate business metadata"
    enabled: true

  - name: cta
    module: blog_agent.core.workflow.steps.step_10_cta
    description: "Generate CTA/Next Steps section"
    enabled: true
    provider: openai-gpt4o  # Optional: use GPT-4o for humanization


  - name: publish
    module: blog_agent.core.workflow.steps.step_11_publish
    description: "Publish article"
    enabled: true

  - name: schema
    module: blog_agent.core.workflow.steps.step_12_schema
    description: "Generate Schema.org markup"
    enabled: true
    provider: openai-gpt4o-mini

  - name: categories
    module: blog_agent.core.workflow.steps.step_13_categories
    description: "Assign categories from categories.yaml"
    enabled: true
    provider: openai-gpt4o-mini

  - name: internal_linking
    module: blog_agent.core.workflow.steps.step_14_internal_linking
    description: "Add internal links to related articles in the same silo"
    enabled: true

  - name: generate_images
    module: blog_agent.core.workflow.steps.step_15_generate_images
    description: "Generate images using DALL-E or Stability AI from multimedia prompts"
    enabled: false  # Disabled by default (requires API key and costs money)
    # Provider auto-detected from env vars (OPENAI_API_KEY or STABILITY_API_KEY)
    # DALL-E settings (if using OPENAI_API_KEY):
    model: "dall-e-3"  # dall-e-2, dall-e-3
    size: "1792x1024"  # 1024x1024, 1792x1024, 1024x1792
    quality: "standard"  # standard, hd
    # Stability AI settings (if using STABILITY_API_KEY):
    # model: "sdxl"  # sdxl ($0.011), sd3 ($0.037), sd3-medium, sd3-large-turbo
    # width: 1024  # multiple of 64
    # height: 1024  # multiple of 64
    # steps: 40  # diffusion steps
    # cfg_scale: 7.0  # guidance scale
    skip_existing: true

  - name: social_media
    module: blog_agent.core.workflow.steps.step_16_social_media
    description: "Generate social media posts (Facebook/LinkedIn/Instagram)"
    enabled: true
    provider: openai-gpt4o  # Optional: use GPT-4o for humanization

  - name: faq
    module: blog_agent.core.workflow.steps.step_17_faq
    description: "Generate FAQ section (if in outline)"
    enabled: true

  - name: checklist
    module: blog_agent.core.workflow.steps.step_18_checklist
    description: "Generate Checklist section (if in outline)"
    enabled: true

  - name: headers_alternatives
    module: blog_agent.core.workflow.steps.step_19_headers_alternatives
    description: "Generate SEO-optimized alternative headers (H1/H2/H3)"
    enabled: true  # Optional - enable to generate alternative header proposals
    provider: openai-gpt4o  # Use GPT-4o for SEO optimization

# Quality Review Configuration
review:
  min_words: 300      # Minimum words per section
  max_words: 400      # Maximum words per section
  min_flesch: 40      # Minimum Flesch Reading Ease (40 = college level)
  max_flesch: 60      # Maximum Flesch Reading Ease (60 = 8th-9th grade)
  tolerance_percent: 10  # Tolerance margin (e.g., 10 = +/-10% flexibility on limits)

# Metadata
metadata:
  version: "1.1"
  total_steps: 19
  estimated_time: "7-8 minutes"
  estimated_cost: "$0.10 (Claude Sonnet 4) + images if enabled + headers alternatives if enabled"
